[TOC]

![avatar](.\img\本章概念1.png)
![avatar](.\img\本章概念2.png)

---

# 1.1 计算机网络在信息时代中的作用
**21世纪的重要特征**
* 数字化
* 网络化
* 信息化

**三类网络**
* 电信网络：电话、电报、传真等
* 有限电视网络：传送电视节目
* 计算机网络：在计算机之间传送数据文件

**互联网的基本特点**
* **连通性**：交换信息
* **共享性**：资源共享（信息、软件、硬件共享）

**互联网+**：互联网+各个传统行业，把互联网的创新成果深度融合与经济社会各个领域之中

---

# 1.2 互联网概述
## 1.2.1 网络的网络
**计算机网络（简称网络）**：由若干节点(计算机、集线器、交换机、路由器等)和连接这些节点的链路组成
![avatar](.\img\网络.png)
**互联网**：网络之间由路由器互连起来
**主机**：与网络相连的计算机

## <font color='gray'>1.2.2 互联网基础结构发展的三个阶段</font>
**<font color='gray'>第一阶段</font>**

* <font color='gray'>1969年，美国国防部创建第一个分组交换网ARPANET</font>

* <font color='gray'>20世纪70年代初期，APRA开始雅安就多种网络互连的技术，导致互联网的出现，成为现今Internet的雏形</font>

* <font color='gray'>1983年，TCP/IP协议称为ARPANET上的标准，是互联网的诞生年</font>

* <font color='gray'>1990年，ARPANET正式宣布关闭</font>
  <font color='gray'>（internet:通用名词，泛指由多个计算机网络互连而成的计算机网络；</font>
  <font color='gray'>Internet:专用名词，值当前全球最大的、开放的、由众多网络互连而成的特定互联网，采用TCP/IP协议，前身是美国的ARPANET）
  </font>

**<font color='gray'>第二阶段</font>**<font color='gray'>：建成了三级结构的互联网</font>

* <font color='gray'>1985年起，美国国家科学基金会NSF围绕六个大型计算机中心建设计算机网络，即国家科学基金网NSFNET</font>
  <font color='gray'>NSFNET是一个三级计算机网络：</font>
  1. <font color='gray'>主干网</font>
  2. <font color='gray'>地区网</font>
  3. <font color='gray'>校园网/企业网</font>
  
* <font color='gray'>1991年，美国政府决定，将互联网的主干网转交给私人公司经营，并收费。</font>

* <font color='gray'>1992年，互联网上的主机超过100万台</font>

* <font color='gray'>1993年，互联网主干网的速率提高到45Mbit/s(T3速率)
</font>

**<font color='gray'>第三阶段</font>**<font color='gray'>：逐渐形成了多层次ISP结构的互联网</font>

* <font color='gray'>1993年起，NSFNET逐渐被互联网主干网替代，政府几个不再负责互联网的运营，出现互联网服务提供者ISP</font>
   <font color='gray'>中国ISP：</font>
   
   1. <font color='gray'>中国电信</font>
   2. <font color='gray'>中国连通</font>
   3. <font color='gray'>中国移动</font>
   
   <font color='gray'>ISP：</font>
   
   1. <font color='gray'>主干ISP：由几个专门的公司创建和维持，服务面积最大</font>
   2. <font color='gray'>地区ISP：通过一个/多个主干ISP连接，服务面积较小</font>
   3. <font color='gray'>本地ISP：给用户提供直接的服务，可以与地区ISP/主干ISP连接</font>
   

<font color='gray'>示意图：</font>
![avatar](.\img\互联网概念示意图.png)

<font color='gray'>互联网交换点IXP：</font>

* <font color='gray'>允许两个网络直接相连并交换分组，而不需要第三个网络来转发分组。</font>
* <font color='gray'>使互联网上的数据流量分布更加合理</font>
* <font color='gray'>减少分组转发的延迟时间</font>
* <font color='gray'>降低分组转发的费用</font>
* <font color='gray'>1995年德国建造世界上最大的IXP——DE-CIX，称为互联网再欧洲的枢纽</font>
* <font color='gray'>20世纪90年代，互联网迅猛发展。欧洲原子核研究组织CERN开发的万维网WWW被广泛使用再互联网上。</font>
![avatar](.\img\互联网的发展概况.png)


## 1.2.3 互联网的标准化工作
### <font color='red'>标准组织</font>

**互联网协会ISOC**(因特网的制定组织)：全面管理互联网，再世界范围内促进其发展和使用
**互联网体系结构委员会IAB**(协议开发技术组织)：管理互联网有关协议的开发
**IAB的两个工程部：**
**1. 互联网工程部IETF**（实际开发）:由许多工作组WG组成的论坛，针对协议开发和标准化
**2. 互联网研究部IRTF**（理论研究）：由一些研究组RG组成的论坛，针对互联网的协议、应用、体系结构等

### 标准制定
**RFC**：所有互联网标准都是以RFC的形式在互联网上发表的，但并非所有的RFC文档都是互联网标准

**RFC文档种类**：
1. 建议标准RFC文档
2. 互联网标准RFC文档
3. 历史的RFC文档
4. 实验的RFC文档
5. 提供信息的RFC文档

**<font color='red'>制定互联网的正式标准所经历的四个阶段</font>**：
1. <font color='red'>因特网草案</font>
2. <font color='red'>建议标准(这个阶段开始成为RFC文档)</font>
4. <font color='red'>因特网标准(RFC)</font>

---

# 1.3 互联网的组成
**<font color='red'>重点</font>**

1. <font color='red'>因特网组成</font>
2. <font color='red'>主机的连接方式</font>
3. <font color='red'>通信方式</font>

## 1.3.1 边缘部分
由所有连接在互联网上的**主机**组成，这些主机又称为端系统(即互联网的末端)。
**用户直接使用，用来进行通信和资源共享。**

**进程**：运行着的程序
**主机A和主机B进行通信**：主机A的某个进程和主机B上的另一个进程进行通信，简称为“计算机之间通信”

**端系统之间的通信方式**：
1. **客户-服务器方式（CS）**
   发邮件、查资料等
   **（1） 通信模式**：客户和服务器是通信中所涉及的两个**应用程序**，客户是服务请求方，服务器是服务提供方（客户和服务器都是计算机进程，用户才是人）
   ![avatar](.\img\客户服务器工作方式.png)
   **（2）通信特点**
   客户程序必须知道服务器程序的地址，服务器程序不需要知道客户的地址
   **客户程序**：
   通信时主动向远地服务器发起通信，无需特殊硬件和复杂操作系统
   **服务器程序**：
   提供专门的服务，一直运行，被动等待，可同时处理多个客户的服务请求，一般需要强大的硬件和高级操作系统支持
   
2. **对等连接方式（P2P）**
**对等连接**：P2P，指两台主机在通信时并不区分哪个时服务请求方那个是服务提供方。
**(1)通信模式**
两个主机都运行了对等连接软件，它们就可以进行对等连接通信。
![avatar](.\img\P2P方式.png)
**(2)通信特点**
每个主机既是客户又是服务器


## 1.3.2 核心部分
由大量**网络**和连接这些网络的**路由器**组成，**为边缘部分提供服务。**

**路由器**：是实现分组交换的关键构件，任务是转发收到的分组。
**主机**：为用户进行信息处理，并且可以和其他主机通过网路交换信息。

**三种交换方式**：
1. 电路交换——整个报文的比特流连续地从源点直达重点
   建立连接(占用通信资源)->通话（一直占用通信资源）->释放连接(归还通信资源)
2. 报文交换——要发送的整块数据成为一个报文，通过路由器转发
3. 分组交换——采用存储转发技术，把一个报文划分为几个分组（更小的等长数据段）后再进行传送
![avatar](.\img\分组交换的优点.png)
![avatar](.\img\三种交换的比较.png)

  

---
# <font color='gray'>1.4 计算机网络在我国的发展</font>
<font color='gray'>
铁道部：最早着手建设专用计算机广域网</font>

* <font color='gray'>1980年，铁道部开始进行计算机联网实验</font>
* <font color='gray'>1989年11月，我国第一个公用分组交换网CNPAC建成运行</font>
* <font color='gray'>20世纪80年代起，国内许多单位相继安装了大量局域网</font>
* <font color='gray'>20世纪80年代后期，其他部门相继建立各自专用计算机广域网</font>
* <font color='gray'>1994年4月20日，我国用64kbit/s专线正式连入互联网，从此中国被国际上正式承认为接入互联网的国家</font>
* <font color='gray'>1994年5月，中国科学院高能物理研究所成立了我国第一个万维网服务器</font>
* <font color='gray'>1994年9月，中国公用计算机互联网CHINANET正式启动</font>

<font color='gray'>中国最大的五个全国范围的公用计算机网络：</font>

1. <font color='gray'>中国电信互联网CHINANET(原来的中国公用计算机网络)</font>
2. <font color='gray'>中国连通互联网UNINET</font>
3. <font color='gray'>中国移动互联网CMNET</font>
4. <font color='gray'>中国教育和科研计算机网CERNET</font>
5. <font color='gray'>中国科学技术网CSTNET</font>
* <font color='gray'>1996年，张朝阳创立中国第一家以风险投资资金建立的互联网公司——爱特信公司，1998年推出搜狐产品，更名为搜狐公司</font>
* <font color='gray'>1997年，丁磊创立了网易公司，推出了中国第一家中文全文搜索引擎</font>
* <font color='gray'>1998年，王志东创立新浪网站，马化腾、张志东创立了腾讯公司</font>
* <font color='gray'>1999年，腾讯推出QQ，马化腾创建了阿里巴巴</font>
* <font color='gray'>2000年，李彦宏和徐勇创建了百度</font>
* <font color='gray'>2003年，马云创立淘宝网</font>
* <font color='gray'>2004年，阿里巴巴集团创立了支付宝</font>
* <font color='gray'>2004年2月，我国第一个下一代互联网CNGI的主干网CERNET2试验网正式开通，并提供服务（标志中国互联网逐渐达到与国际先进水平同步）</font>
* <font color='gray'>2011年，腾讯推出微信
</font>
---

# 1.5 计算机网络的类别
## 1.5.1 计算机网络的定义
计算机网络就是一些互联的、自治的计算机的集合。
1. 计算机网络所连接的硬件，并不限于一般的计算机，而是包括智能手机
2. 计算机网络并非专门用来传送数据，而是能支持很多种的应用

## 1.5.2 几种不同类别的计算机网络
1. **按照网络的作用范围进行分类**
   1. 广域网WAN(远程网)：几十~几千km
   2. 城域网MAN：5~50km
   3. 局域网LAN(校园网/企业网)：1km左右
   4. 个人区域网PAN（无线个人区域网）：10m左右
2. **按照网络的使用者进行分类**
   1. 公用网(公众网)：电信公司出资建造的大型网络
   2. 专用网：某个部门/行业为各自特殊业务工作需要建造的网络
3. **用来把用户接入到互联网的网络**
   **接入网**(本地接入网或居民接入网)；接入网是从某个端系统到另一个端系统的路径中，由这个端系统到第一个路由器（边缘路由器）之间的一些物理链路组成。
   它既不属于互联网的核心部分，又不属于边缘部分。
![avatar](.\img\计算机网络.png)

---
# 1.6 计算机网络的性能
## 1.6.1 计算机网路的性能指标
1. 速率(数据率)
   计算机网络上主机在数字信道上传送数据的速率
2. 带宽
   在单位时间内从网络中的某一点到另一点所能通过的“最高数据率”
3. 吞吐量(throughput)
   在单位时间内通过某个网络/信道/接口的数据量
4. 时延(delay/latency)
   数据从网络的一端传送到另一端所需的时间
影响时延的四个因素：
   1. 发送时延
      主机/路由器发送数据帧所需要的时间
   2. 传播时延
      电磁波在信道中传播一定的距离需要花费的时间
   3. 处理时延
      主机/路由器在收到分组时需要花费一定的时间进行处理
   4. 排队时延
      分组在进入路由器后要先在输入队列中排队等待处理，排队时延长短取决于网络的通信量
   ![avatar](.\img\时延.png)
5. 时延带宽积=传播时延*带宽
    单位时间内能够传输的数据量
6. 往返时间
   从发送方发送数据开始，到发送方收到来自接收方的确认，总经历时间
7. 利用率
   1. 信道利用率：出某种信道有百分之几的时间时被利用的(有数据通过)
   2. 网络利用率：$D=\frac{D_0}{1-U}$($D_0$表示网络空闲时的时延，D表示网络当前的时延，U(∈[0,1])是网络利用率,当网络利用率达到其容量的$\frac{1}{2}$时，时延就要加倍)
   ![avatar](.\img\U和D的关系.png)

## 1.6.2 计算机网络的非性能指标
费用、质量、标准化、可靠性、可扩展性、可升级性、以与管理和维护

---
# <font color='red'>1.7 计算机网络体系结构</font>
可参考博客：https://blog.csdn.net/qq_44614026/article/details/102411538

## 1.7.1计算机网络体系结构的形成
将复杂的计算机网络，转化成各个小部分

<font color='gray'>
连接在网络上的两台计算机互相传送文件：</font>

<font color='gray'>设A为发起通信的计算机，B为接收数据的计算机</font>



* <font color='gray'>A必须将数据通信的通路进行激活（发出指令，保证数据能正确发送和接收）</font>
* <font color='gray'>告诉网络如何识别B</font>
* <font color='gray'>A必须查明B是否开机，并且与网络连接正常</font>
* <font color='gray'>A的应用程序必须弄清楚，B的文件管理程序是否已做好接收文件和寻出文件的准备工作</font>
* <font color='gray'>若计算机文件格式不兼容，则至少一台计算机应完成格式转换</font>
* <font color='gray'>对出现的各种差错和意外事故（数据传送错误、重复/丢失，节点交换机故障），应当有可靠的措施保证B能收到正确文件
</font>

## 1.7.2 协议与划分层次
**网络协议**：
1. 语法：数据与控制信息的结构/格式
2. 语义：需要发出何种控制信息，完成何种动作，做出何种响应
3. 同步：事件实现顺序的详细说明


协议的两种形式：

1. 文字描述
2. 程序代码

层次式结构的网络协议：
![avatar](.\img\划分层次.png)
通信服务模块：让文件传送模块完成全部工作的细节，导致文件传送模块过于复杂。
网络接入模块：负责做与网络接口细节有关的工作，并向上层提供服务，使上面的通信服务模块能够完成可靠通信任务

层次结构的优点：

1. 各层之间使独立的
2. 灵活性好
3. 结构上可分割开
4. 以与实现和维护
5. 能促进标准化工作
   1. 差错控制
   2. 流量控制
   3. 分段和重装
   4. 重复和分用
   5. 连接建立和释放

层次结构的缺点：
1. 有些功能会在不同的层次中重复出现，产生额外开销

网络的体系结构：
计算机网络的各层及其协议的集合就是网络的体系结构。即，计算机网络的体系结构，就是这个计算机网络及其构件所应完成的功能的精确定义。
体系结构是抽象的，实现是具体的，是真正在运行的计算机硬件和软件。

## <font color='red'>1.7.3 具有五层协议的体系结构</font>
**计算机网络体系结构**：
![avatar](.\img\计算机网络体系结构.png)

**五层协议**
1. **应用层**：通过应用进程间的交互，来完成特定网络应用（如：域名系统DNS、支持万维网应用的HTTP协议、支持电子邮件的SMTP协议）
   **报文**：应用层交互的数据单元
   
2. **运输层**：向两台主机中进程之间的通信，提供通用的数据传输服务。运用该服务传送应用层的报文。
   
   1. 复用：多个应用层进程可同时使用下面运输层的服务
   2. 分用：运输层把收到的信息分别交付上面应用层的相应进程
   
   两种协议：
   1. 传输控制协议TCP：提供面向连接的、可靠的数据传送服务，数据传送单位为报文段
   2. 用户数据报协议UDP：提供无连接的、尽最大努力的数据传输服务（不保证可靠性），数据传送单位为用户数据报
      
   
   数据传送单位：用户运输报
3. **网络层（IP层）**：为分组交换网上的不同主机提供通信服务。
   1. 发送数据时，把运输层产生的报文段或数据报封装成分组（IP数据报）或包进行传送。
   2. 选择合适的路由，使源主机运输层所传下来的分组能够通过网络中的路由器找到目的主机。
   使用IP协议。
   数据传送单位：分组，包

4. **数据链路层**：传送数据时，将网络层交下来的IP数据报组装成帧，在两个相邻节点间的链路上传送帧，每一帧包括数据和必要控制信息。接收数据时，控制信息使接收端知道一个帧从哪个比特开始、到哪个比特结束，从而使接受端从中提取数据部分，上交给网络层。
   数据传送单位：帧

5. **物理层**：数据单位为比特。考虑用多大的电压代表“1”/“0”，以及接收方如何识别出发送方所发出的比特，确定链接电缆的插头应该有多少根引脚，应该如何连接。它不负责解释比特代表的意思。（双绞线、同轴电缆、光缆、无线通信等在物理层之下的第0层）

**核心部分（路由存储转发）**
应用层、数据链路层、物理层

**所有数据单元，都可笼统地称为“分组”**
![avatar](.\img\数据传递.png)

## 1.7.4 实体、协议、服务、服务访问点
**实体**：任何可发送或接收信息的硬件/软件进程
**协议**： 控制两个对等实体(或多个实体)进行通信的规则集合
**服务**：由下层向上层通过层间接口提供。只有那些能够被高一层实体“看得见”的功能才能称为服务。
要实现本层的协议，还需要使用下层所提供的服务。

<font color='gray'>
服务原语：上层使用下层所提供的服务，多必须通过与下层交换的一些命令，在OSI中称为服务原语。
服务访问点SAP：在同一系统中相邻两层的实体进行交互（交换信息）的地方
服务数据单元SDU：层与层之间交换的数据的单位。多个SDU可合成为一个PDU，一个SDU可以划分为几个PDU。![avatar](相邻两层之间的关系.png)
</font>

**计算机网络协议必须把所有不利的条件事件估计到，而不能假定一切都是正常和理想的**，因此一台计算机网络协议是否正确，需要检查这个协议能否应付各种异常情况。

## 1.7.5 TCP/IP的体系结构

## ![avatar](.\img\TCP IP四层协议.png)

![avatar](.\img\TCP IP表示方法2.png)
上图为现在的互联网使用的TCP/IP体系结构

![avatar](.\img\TCP IP表示方法3.png)
上图表明，TCP/IP协议可以为各式各样的应用提供服务，同时也允许IP协议在各式各样的网络构成的互联网上允许